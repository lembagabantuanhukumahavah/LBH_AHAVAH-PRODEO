<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Verifikasi Anggota | LBH AHAVAH PRO DEO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family: Helvetica, Arial, sans-serif;
  background:#f4f4f4;
  color:#000;
}

header{
  background:#000;
  color:#fff;
  padding:25px;
  text-align:center;
}

header img{
  width:90px;
  display:block;
  margin:0 auto 10px;
}

.card{
  max-width:600px;
  background:#fff;
  margin:40px auto;
  padding:30px;
  border-top:6px solid #ffd700;
  box-shadow:0 0 10px rgba(0,0,0,0.15);
}

input{
  width:100%;
  padding:12px;
  font-size:16px;
  margin-top:10px;
}

button{
  margin-top:15px;
  padding:12px;
  width:100%;
  background:#ffd700;
  border:none;
  font-weight:bold;
  cursor:pointer;
}

.label{
  font-weight:bold;
  margin-top:15px;
}

.value{
  margin-top:5px;
}

.status-valid{
  color:green;
  font-weight:bold;
  font-size:18px;
}

.status-invalid{
  color:red;
  font-weight:bold;
  font-size:18px;
}

footer{
  text-align:center;
  font-size:14px;
  color:#555;
  margin-top:40px;
}
</style>
</head>

<body>

<header>
  <img src="assets/logo-ahavah.jpg" alt="Logo LBH AHAVAH PRO DEO">
  <h2>Lembaga Bantuan Hukum AHAVAH PRO DEO</h2>
  <p>Halaman Verifikasi Keanggotaan Resmi</p>
</header>

<div class="card">
  <label><strong>Masukkan Nomor Anggota</strong></label>
  <input type="text" id="inputId" placeholder="Contoh: AHV-001">
  <button onclick="verifikasi()">Verifikasi</button>
</div>

<div class="card" id="result">
  <p>Silakan masukkan Nomor Anggota.</p>
</div>

<footer>
  Â© 2026 Lembaga Bantuan Hukum AHAVAH PRO DEO
</footer>

<script>
async function verifikasi(idManual = null){
  const result = document.getElementById("result");
  let memberId = idManual;

  if(!memberId){
    memberId = document.getElementById("inputId").value.trim();
  }

  if(!memberId){
    result.innerHTML = `<div class="status-invalid">Nomor Anggota wajib diisi</div>`;
    return;
  }

  try{
    const response = await fetch("members.json");
    const data = await response.json();

    const member = data.find(item => item.id === memberId);

    if(member){
      result.innerHTML = `
        <div class="label">Nama Anggota:</div>
        <div class="value">${member.nama}</div>

        <div class="label">Lembaga:</div>
        <div class="value">${member.lembaga}</div>

        <div class="label">Nomor Anggota:</div>
        <div class="value">${member.nomor}</div>

        <div class="label">Status Keanggotaan:</div>
        <div class="value"><strong>${member.status}</strong></div>

        <div class="label">Status Verifikasi:</div>
        <div class="status-valid">TERDAFTAR RESMI</div>

        <div class="label">Keterangan Verifikasi:</div>
        <p>
          Data ini telah diverifikasi dan sesuai dengan kartu anggota resmi
          Lembaga Bantuan Hukum AHAVAH PRO DEO.
        </p>
      `;
    }else{
      result.innerHTML = `<div class="status-invalid">DATA TIDAK TERDAFTAR</div>`;
    }
  }catch(e){
    result.innerHTML = `<div class="status-invalid">Gagal memuat data verifikasi</div>`;
    console.error(e);
  }
}

// AUTO VERIFIKASI JIKA DARI QR CODE
const params = new URLSearchParams(window.location.search);
const qrId = params.get("id");
if(qrId){
  verifikasi(qrId);
}
</script>

</body>
</html>
